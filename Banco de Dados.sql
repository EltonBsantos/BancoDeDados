CREATE DATABASE muriel;
USE muriel;

CREATE TABLE USUARIOS(
	CPF BIGINT (11) UNSIGNED NOT NULL PRIMARY KEY auto_increment, 
	NOME VARCHAR (150) NOT NULL,
	SEXO VARCHAR (1),
	SALARIO DECIMAL (10,2),
	DATA_NASCIMENTO DATE,
	CREATED_AT TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP()

); 

CREATE TABLE telefones(
	ID BIGINT(20) UNSIGNED PRIMARY KEY AUTO_INCREMENT,
	DDD VARCHAR(3) NOT NULL,
	NUMERO VARCHAR(9) NOT NULL, 
	TIPO TINYINT(3) NOT NULL DEFAULT'0',
	USER_CPF BIGINT(11) UNSIGNED NOT NULL DEFAULT'0',
	CREATED_AT TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP()
);

CREATE TABLE endereco(
	USER_CPF BIGINT(11) UNSIGNED NOT NULL DEFAULT'0',
	NOME VARCHAR (150) NOT NULL,
	NUMERO BIGINT (5) NOT NULL,
	CEP BIGINT (8) UNSIGNED NOT NULL,
	CREATED_AT TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP(),
	PRIMARY KEY (USER_CPF)
);

CREATE TABLE produto(
	cod_produto BIGINT (5) UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT,
	nome_produto VARCHAR (30) NOT NULL,
	preco_produto FLOAT (5) NOT NULL,
	nota_fiscal_num BIGINT (7) NOT NULL,
	CREATED_AT TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP()
);

CREATE TABLE compra(
	cod_compra BIGINT (5) UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT,
	data_compra DATE NOT NULL,
	usuarios_CPF BIGINT(11) UNSIGNED NOT NULL DEFAULT'0',
	nota_fiscal_num BIGINT (7) NOT NULL
);

CREATE TABLE nota_fiscal(
	num_nota_fiscal BIGINT (7) UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT,
	compra_cod BIGINT (5) NOT NULL,
	data_nota_fiscal DATE NOT NULL,
	CREATED_AT TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP()

);


INSERT INTO usuarios(CPF, NOME, SEXO, SALARIO, DATA_NASCIMENTO, CREATED_AT) 
	VALUES(10723018901,'Elton Antonio','M', 7500,'1998-02-18', NOW()),
			(15845403870,'Matheus Fabricio', 'M', 9500, '1997-08-12',NOW()),
			(19449984964,'JULIANA PRESTUPA','F',10500,'1995-04-04', NOW());
	
	
INSERT INTO TELEFONES(DDD,NUMERO,TIPO,USER_CPF,CREATED_AT) 
	VALUES('041','995813619',1, 10723018901,NOW()),
			('041','995191513',0, 15845403870,NOW()),
			('041','999477477',1, 19449984964,NOW());
			
INSERT INTO endereco (NOME,NUMERO,CEP,USER_CPF,CREATED_AT) 
	VALUES('Rua janaina virginia saldanha machadoo',203,83503260, 10723018901,NOW()),
			('Av. jetulio vargas',1102, 81260130, 15845403870,NOW()),
			('Rua Candido de abrel', 489, 82720000, 19449984964,NOW());

INSERT INTO produto (nome_produto, preco_produto, nota_fiscal_num )
	VALUES ('caf√© buruti', 5.60, 25530);
	
INSERT INTO compra (data_compra, usuarios_CPF, nota_fiscal_num )
	VALUES ('2023-05-02', 2945872384, 231323829);	
	
INSERT INTO nota_fiscal (compra_cod, data_nota_fiscal )
	VALUES ( 23938, '2023-05-02');